(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{21:function(e,a,t){e.exports={Searchbar:"SearchBar_Searchbar__28R8u"}},22:function(e,a,t){e.exports={ImageGallery:"ImageGallery_ImageGallery__2zY9U"}},24:function(e,a,t){e.exports={spinner:"Spinner_spinner__3kGu6"}},25:function(e,a,t){e.exports={Button:"Button_Button__2Xs9N"}},26:function(e,a,t){e.exports={note:"Notification_note__5GmYR"}},28:function(e,a,t){e.exports={App:"App_App__eEShU"}},29:function(e,a,t){e.exports=t(74)},34:function(e,a,t){},7:function(e,a,t){e.exports={SearchForm:"SearchForm_SearchForm__3xm-e",SearchFormButton:"SearchForm_SearchFormButton__qpXeE",SearchFormButtonLabel:"SearchForm_SearchFormButtonLabel__2flNC",SearchFormInput:"SearchForm_SearchFormInput__CHsNb"}},74:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(20),c=t.n(o),l=(t(34),t(10)),m=t(3),i=t(4),u=t(6),s=t(5),g=t(7),h=t.n(g),p=function(e){Object(u.a)(t,e);var a=Object(s.a)(t);function t(){var e;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=a.call.apply(a,[this].concat(r))).state={inputValue:""},e.handleChange=function(a){e.setState({inputValue:a.target.value})},e.handleSubmit=function(a){a.preventDefault(),e.props.onSubmit(e.state.inputValue),e.setState({inputValue:""})},e}return Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("form",{className:h.a.SearchForm,onSubmit:this.handleSubmit},r.a.createElement("button",{type:"submit",className:h.a.SearchFormButton},r.a.createElement("span",{className:h.a.SearchFormButtonLabel},"Search")),r.a.createElement("input",{className:h.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:this.state.inputValue,onChange:this.handleChange}))}}]),t}(n.Component),f=t(21),d=t.n(f),y=function(e){var a=e.onSubmit;return r.a.createElement("header",{className:d.a.Searchbar},r.a.createElement(p,{onSubmit:a}))},I=t(8),_=t.n(I),S=function(e){var a=e.image,t=e.setLargeImage;return r.a.createElement("li",{className:_.a.ImageGalleryItem},r.a.createElement("img",{className:_.a.ImageGalleryItemImage,src:a.webformatURL,alt:"super-gallery",onClick:function(){return t(a.largeImageURL)}}))},v=t(22),b=t.n(v),E=function(e){var a=e.images;e.setLargeImage;return r.a.createElement("ul",{className:b.a.ImageGallery},a.map((function(e){return r.a.createElement(S,{key:e.id,image:e})})))},w=t(23),F=t.n(w),N=(t(56),t(24)),C=t.n(N),L=function(){return r.a.createElement(F.a,{className:C.a.spinner,type:"Oval",color:"#00BFFF",height:100,width:100})},O=t(25),G=t.n(O),k=function(e){var a=e.loadImages;return r.a.createElement("button",{className:G.a.Button,type:"button",onClick:a},"Load more")},U=t(9),j=t.n(U),B=function(e){Object(u.a)(t,e);var a=Object(s.a)(t);function t(){var e;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=a.call.apply(a,[this].concat(r))).handleKeyDown=function(a){"Escape"===a.code&&e.props.onClose()},e}return Object(i.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){return r.a.createElement("div",{className:j.a.Overlay,onClick:this.props.onClose},r.a.createElement("div",{className:j.a.Modal},this.props.children))}}]),t}(n.Component),x=t(26),A=t.n(x),M=function(e){var a=e.message;return r.a.createElement("div",{className:A.a.note},a)},R=t(27),D=t.n(R),V="17552314-2488ac3d167da7c7e0d9d1cd2",Q=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return D.a.get("https://pixabay.com/api/?key=".concat(V,"&q=").concat(e,"&image_type=photo&orientation=horizontal&page=").concat(a,"&per_page=12")).then((function(e){return{images:e.data.hits.map((function(e){return{id:e.id,webformatURL:e.webformatURL,largeImageURL:e.largeImageURL}})),total:e.data.total}}))},K=t(28),q=t.n(K),z=function(e){Object(u.a)(t,e);var a=Object(s.a)(t);function t(){var e;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=a.call.apply(a,[this].concat(r))).state={images:[],loading:!1,error:null,searchQuery:"",page:1,largeImageUrl:null,pageCount:0},e.setLargeImage=function(a){e.setState({largeImageUrl:a})},e.fetchImages=function(){var a=e.state,t=a.searchQuery,n=a.page;e.setState({loading:!0}),Q(t,n).then((function(a){return e.setState((function(e){return{images:[].concat(Object(l.a)(e.images),Object(l.a)(a.images)),page:e.page+1,pageCount:Math.ceil(a.total/12)}}))})).catch((function(a){return e.setState({error:a})})).finally((function(){return e.setState({loading:!1})}))},e.handleSearchFormSubmit=function(a){e.setState({searchQuery:a,page:1,pageCount:0,images:[]})},e}return Object(i.a)(t,[{key:"componentDidUpdate",value:function(e,a){a.searchQuery!==this.state.searchQuery&&this.fetchImages();var t=a.page;this.state.page>t&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}},{key:"render",value:function(){var e=this,a=this.state,t=a.images,n=a.loading,o=a.error,c=a.largeImageUrl,l=a.page,m=a.pageCount;return r.a.createElement("div",{className:q.a.App},o&&r.a.createElement(M,{message:"Something went wrong: ".concat(o.message)}),r.a.createElement(y,{onSubmit:this.handleSearchFormSubmit}),t.length>0&&r.a.createElement(E,{images:t,setLargeImage:this.setLargeImage}),n&&r.a.createElement(L,null),l<=m&&!n&&r.a.createElement(k,{loadImages:this.fetchImages}),l>1&&!m&&r.a.createElement(M,{message:"No images found for your search"}),c&&r.a.createElement(B,{onClose:function(){return e.setLargeImage(null)}},r.a.createElement("img",{src:c,alt:"view large"})))}}]),t}(n.Component);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(z,null)),document.getElementById("root"))},8:function(e,a,t){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__37G1O",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__1PN2U","ImageGalleryItem-image":"ImageGalleryItem_ImageGalleryItem-image__pkVLA"}},9:function(e,a,t){e.exports={Overlay:"Modal_Overlay__3tUdo",Modal:"Modal_Modal__Bwhsa"}}},[[29,1,2]]]);
//# sourceMappingURL=main.9de6b7fd.chunk.js.map