{"version":3,"sources":["components/searchBar.js/SearchBar.module.css","components/imageGallery/ImageGallery.module.css","components/spinner/Spinner.module.css","components/button/Button.module.css","components/notification/Notification.module.css","components/App.module.css","components/searchBar.js/searchForm/SearchForm.module.css","components/searchBar.js/searchForm/SearchForm.js","components/searchBar.js/SearchBar.js","components/imageGallery/imageGalleryItem/ImageGalleryItem.js","components/imageGallery/ImageGallery.js","components/spinner/Spinner.js","components/button/Button.js","components/modal/Modal.js","components/notification/Notification.js","services/imagesApi.js","components/App.js","index.js","components/imageGallery/imageGalleryItem/ImageGalleryItem.module.css","components/modal/Modal.module.css"],"names":["module","exports","SearchForm","state","inputValue","handleChange","e","setState","target","value","handleSubmit","preventDefault","props","onSubmit","className","styles","this","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","SearchBar","Searchbar","ImageGalleryItem","image","setLargeImage","ImageGalleryItemImage","src","webformatURL","alt","onClick","largeImageURL","ImageGallery","images","map","key","id","Spinner","spinner","color","height","width","Button","loadImages","Modal","handleKeyDown","code","onClose","handleClick","dataset","name","window","addEventListener","removeEventListener","Overlay","data-name","children","Notification","message","note","API_KEY","searchQuery","page","axios","get","then","response","data","hits","total","App","loading","error","largeImageUrl","pageCount","url","fetchImages","imagesApi","prevState","Math","ceil","catch","finally","handleSearchFormSubmit","query","prevProps","prevPage","scrollTo","top","document","documentElement","scrollHeight","behavior","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"kHACAA,EAAOC,QAAU,CAAC,UAAY,+B,mBCA9BD,EAAOC,QAAU,CAAC,aAAe,qC,mBCAjCD,EAAOC,QAAU,CAAC,QAAU,2B,mBCA5BD,EAAOC,QAAU,CAAC,OAAS,yB,mBCA3BD,EAAOC,QAAU,CAAC,KAAO,6B,mBCAzBD,EAAOC,QAAU,CAAC,IAAM,mB,2ECAxBD,EAAOC,QAAU,CAAC,WAAa,+BAA+B,iBAAmB,qCAAqC,sBAAwB,0CAA0C,gBAAkB,sC,wICwC3LC,EArCf,4MAKEC,MAAQ,CAAEC,WAAY,IALxB,EAOEC,aAAe,SAAAC,GACb,EAAKC,SAAS,CAAEH,WAAYE,EAAEE,OAAOC,SARzC,EAWEC,aAAe,SAAAJ,GACbA,EAAEK,iBACF,EAAKC,MAAMC,SAAS,EAAKV,MAAMC,YAC/B,EAAKG,SAAS,CAAEH,WAAY,MAdhC,uDAkBI,OACE,0BAAMU,UAAWC,IAAOb,WAAYW,SAAUG,KAAKN,cACjD,4BAAQO,KAAK,SAASH,UAAWC,IAAOG,kBACtC,0BAAMJ,UAAWC,IAAOI,uBAAxB,WAEF,2BACEL,UAAWC,IAAOK,gBAClBH,KAAK,OACLI,aAAa,MACbC,WAAS,EACTC,YAAY,2BACZd,MAAOO,KAAKb,MAAMC,WAClBoB,SAAUR,KAAKX,oBA9BzB,GAAgCoB,a,iBCajBC,EAZG,SAAC,GAAkB,IAAhBb,EAAe,EAAfA,SACnB,OACE,4BAAQC,UAAWC,IAAOY,WACxB,kBAAC,EAAD,CAAYd,SAAUA,M,gBCmBbe,EAvBU,SAAC,GAA8B,IAA5BC,EAA2B,EAA3BA,MAAOC,EAAoB,EAApBA,cAEjC,OACE,wBAAIhB,UAAWC,IAAOa,kBACpB,yBACEd,UAAWC,IAAOgB,sBAClBC,IAAKH,EAAMI,aACXC,IAAI,gBACJC,QAAS,kBAAML,EAAcD,EAAMO,oB,iBCkB5BC,EAzBM,SAAC,GAA+B,IAA7BC,EAA4B,EAA5BA,OAAQR,EAAoB,EAApBA,cAC9B,OACE,wBAAIhB,UAAWC,IAAOsB,cACnBC,EAAOC,KAAI,SAAAV,GAAK,OACf,kBAAC,EAAD,CACEW,IAAKX,EAAMY,GACXZ,MAAOA,EACPC,cAAeA,S,0CCKVY,EAZC,WACd,OACE,kBAAC,IAAD,CACE5B,UAAWC,IAAO4B,QAClB1B,KAAK,OACL2B,MAAM,UACNC,OAAQ,IACRC,MAAO,O,iBCIEC,EAZA,SAAC,GAAoB,IAAlBC,EAAiB,EAAjBA,WAChB,OACE,4BAAQlC,UAAWC,IAAOgC,OAAQ9B,KAAK,SAASkB,QAASa,GAAzD,c,gBCuCWC,EAzCf,4MAaEC,cAAgB,SAAA5C,GACC,WAAXA,EAAE6C,MACJ,EAAKvC,MAAMwC,WAfjB,EAmBEC,YAAc,SAAA/C,GACkB,YAA1BA,EAAEE,OAAO8C,QAAQC,MAGrB,EAAK3C,MAAMwC,WAvBf,kEAMII,OAAOC,iBAAiB,UAAWzC,KAAKkC,iBAN5C,6CAUIM,OAAOE,oBAAoB,UAAW1C,KAAKkC,iBAV/C,+BA2BI,OACE,yBACEpC,UAAWC,IAAO4C,QAClBC,YAAU,UACVzB,QAASnB,KAAKqC,aAEd,yBAAKvC,UAAWC,IAAOkC,MAAOW,YAAU,SACrC5C,KAAKJ,MAAMiD,eAlCtB,GAA2BpC,a,iBCQZqC,EARM,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QACtB,OAAO,yBAAKjD,UAAWC,IAAOiD,MAAOD,I,iBCHjCE,EAAU,qCAoBD,EAlBc,SAACC,GAA2B,IAAdC,EAAa,uDAAN,EAChD,OAAOC,IACJC,IADI,uCAE6BJ,EAF7B,cAE0CC,EAF1C,yDAEsGC,EAFtG,iBAIJG,MAAK,SAAAC,GASJ,MAAO,CAAEjC,OARMiC,EAASC,KAAKC,KAAKlC,KAChC,kBAA0C,CACxCE,GADF,EAAGA,GAEDR,aAFF,EAAOA,aAGLG,cAHF,EAAqBA,kBAONsC,MADCH,EAASC,KAAnBE,W,iBCoFCC,E,4MA1FbxE,MAAQ,CACNmC,OAAQ,GACRsC,SAAS,EACTC,MAAO,KACPX,YAAa,GACbC,KAAM,EACNW,cAAe,KACfC,UAAW,G,EAGbjD,cAAgB,SAAAkD,GACd,EAAKzE,SAAS,CAAEuE,cAAeE,K,EAmBjCC,YAAc,WAAO,IAAD,EACY,EAAK9E,MAA3B+D,EADU,EACVA,YAAaC,EADH,EACGA,KACrB,EAAK5D,SAAS,CAAEqE,SAAS,IACzBM,EACwBhB,EAAaC,GAClCG,MAAK,SAAAE,GAAI,OACR,EAAKjE,UAAS,SAAA4E,GAAS,MAAK,CAC1B7C,OAAO,GAAD,mBAAM6C,EAAU7C,QAAhB,YAA2BkC,EAAKlC,SACtC6B,KAAMgB,EAAUhB,KAAO,EACvBY,UAAWK,KAAKC,KAAKb,EAAKE,MAAQ,WAGrCY,OAAM,SAAAT,GAAK,OAAI,EAAKtE,SAAS,CAAEsE,aAC/BU,SAAQ,kBAAM,EAAKhF,SAAS,CAAEqE,SAAS,Q,EAG5CY,uBAAyB,SAAAC,GACvB,EAAKlF,SAAS,CACZ2D,YAAauB,EACbtB,KAAM,EACNY,UAAW,EACXzC,OAAQ,M,iEArCOoD,EAAWP,GACVA,EAAUjB,cACVlD,KAAKb,MAAM+D,aAE3BlD,KAAKiE,cAEP,IAAMU,EAAWR,EAAUhB,KACVnD,KAAKb,MAAMgE,KACbwB,GACbnC,OAAOoC,SAAS,CACdC,IAAKC,SAASC,gBAAgBC,aAC9BC,SAAU,a,+BA8BN,IAAD,SAQHjF,KAAKb,MANPmC,EAFK,EAELA,OACAsC,EAHK,EAGLA,QACAC,EAJK,EAILA,MACAC,EALK,EAKLA,cACAX,EANK,EAMLA,KACAY,EAPK,EAOLA,UAEF,OACE,yBAAKjE,UAAWC,IAAO4D,KACpBE,GACC,kBAAC,EAAD,CAAcd,QAAO,gCAA2Bc,EAAMd,WAExD,kBAAC,EAAD,CAAWlD,SAAUG,KAAKwE,yBACzBlD,EAAO4D,OAAS,GACf,kBAAC,EAAD,CAAc5D,OAAQA,EAAQR,cAAed,KAAKc,gBAEnD8C,GAAW,kBAAC,EAAD,MACXT,GAAQY,IAAcH,GACrB,kBAAC,EAAD,CAAQ5B,WAAYhC,KAAKiE,cAE1Bd,EAAO,IAAMY,GACZ,kBAAC,EAAD,CAAchB,QAAQ,oCAEvBe,GACC,kBAAC,EAAD,CAAO1B,QAAS,kBAAM,EAAKtB,cAAc,QACvC,yBAAKE,IAAK8C,EAAe5C,IAAI,qB,GAnFvBT,aCLlB0E,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFP,SAASQ,eAAe,U,kBCR1BtG,EAAOC,QAAU,CAAC,iBAAmB,2CAA2C,sBAAwB,gDAAgD,yBAAyB,mD,kBCAjLD,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,wB","file":"static/js/main.3edc2247.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__1pwkb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3Eg_r\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"spinner\":\"Spinner_spinner__2b2Wp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__PvBge\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"note\":\"Notification_note__16h0M\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__2oz25\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SearchForm\":\"SearchForm_SearchForm__1GncT\",\"SearchFormButton\":\"SearchForm_SearchFormButton__pWGnE\",\"SearchFormButtonLabel\":\"SearchForm_SearchFormButtonLabel__2pRMQ\",\"SearchFormInput\":\"SearchForm_SearchFormInput__2aqDx\"};","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './SearchForm.module.css';\r\n\r\nexport class SearchForm extends Component {\r\n  static propTypes = {\r\n    onSubmit: PropTypes.func.isRequired,\r\n  };\r\n\r\n  state = { inputValue: '' };\r\n\r\n  handleChange = e => {\r\n    this.setState({ inputValue: e.target.value });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    this.props.onSubmit(this.state.inputValue);\r\n    this.setState({ inputValue: '' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\r\n        <button type=\"submit\" className={styles.SearchFormButton}>\r\n          <span className={styles.SearchFormButtonLabel}>Search</span>\r\n        </button>\r\n        <input\r\n          className={styles.SearchFormInput}\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n          value={this.state.inputValue}\r\n          onChange={this.handleChange}\r\n        />\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SearchForm;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport SearchForm from './searchForm/SearchForm';\r\nimport styles from './SearchBar.module.css';\r\n\r\nconst SearchBar = ({ onSubmit }) => {\r\n  return (\r\n    <header className={styles.Searchbar}>\r\n      <SearchForm onSubmit={onSubmit} />\r\n    </header>\r\n  );\r\n};\r\n\r\nSearchBar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default SearchBar;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './ImageGalleryItem.module.css';\r\n\r\nconst ImageGalleryItem = ({ image, setLargeImage }) => {\r\n  // console.log(image);\r\n  return (\r\n    <li className={styles.ImageGalleryItem}>\r\n      <img\r\n        className={styles.ImageGalleryItemImage}\r\n        src={image.webformatURL}\r\n        alt=\"super-gallery\"\r\n        onClick={() => setLargeImage(image.largeImageURL)}\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  image: PropTypes.exact({\r\n    id: PropTypes.number.isRequired,\r\n    webformatURL: PropTypes.string.isRequired,\r\n    largeImageURL: PropTypes.string.isRequired,\r\n  }).isRequired,\r\n  setLargeImage: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport ImageGalleryItem from './imageGalleryItem/ImageGalleryItem';\r\nimport styles from './ImageGallery.module.css';\r\n\r\nconst ImageGallery = ({ images, setLargeImage }) => {\r\n  return (\r\n    <ul className={styles.ImageGallery}>\r\n      {images.map(image => (\r\n        <ImageGalleryItem\r\n          key={image.id}\r\n          image={image}\r\n          setLargeImage={setLargeImage}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.arrayOf(\r\n    PropTypes.exact({\r\n      id: PropTypes.number.isRequired,\r\n      webformatURL: PropTypes.string.isRequired,\r\n      largeImageURL: PropTypes.string.isRequired,\r\n    }),\r\n  ).isRequired,\r\n  setLargeImage: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import React from 'react';\r\nimport Loader from 'react-loader-spinner';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\nimport styles from './Spinner.module.css';\r\n\r\nconst Spinner = () => {\r\n  return (\r\n    <Loader\r\n      className={styles.spinner}\r\n      type=\"Oval\"\r\n      color=\"#00BFFF\"\r\n      height={100}\r\n      width={100}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Spinner;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Button.module.css';\r\n\r\nconst Button = ({ loadImages }) => {\r\n  return (\r\n    <button className={styles.Button} type=\"button\" onClick={loadImages}>\r\n      Load more\r\n    </button>\r\n  );\r\n};\r\n\r\nButton.propTypes = {\r\n  loadImages: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Modal.module.css';\r\n\r\nexport class Modal extends Component {\r\n  static propTypes = {\r\n    children: PropTypes.node.isRequired,\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleClick = e => {\r\n    if (e.target.dataset.name !== 'overlay') {\r\n      return;\r\n    }\r\n    this.props.onClose();\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div\r\n        className={styles.Overlay}\r\n        data-name=\"overlay\"\r\n        onClick={this.handleClick}\r\n      >\r\n        <div className={styles.Modal} data-name=\"modal\">\r\n          {this.props.children}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Notification.module.css';\r\n\r\nconst Notification = ({ message }) => {\r\n  return <div className={styles.note}>{message}</div>;\r\n};\r\n\r\nNotification.propTypes = {\r\n  message: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default Notification;\r\n","import axios from 'axios';\r\n\r\nconst API_KEY = '17552314-2488ac3d167da7c7e0d9d1cd2';\r\n\r\nconst fetchImagesWithQuery = (searchQuery, page = 1) => {\r\n  return axios\r\n    .get(\r\n      `https://pixabay.com/api/?key=${API_KEY}&q=${searchQuery}&image_type=photo&orientation=horizontal&page=${page}&per_page=12`,\r\n    )\r\n    .then(response => {\r\n      const images = response.data.hits.map(\r\n        ({ id, webformatURL, largeImageURL }) => ({\r\n          id,\r\n          webformatURL,\r\n          largeImageURL,\r\n        }),\r\n      );\r\n      const { total } = response.data;\r\n      return { images, total };\r\n    });\r\n};\r\n\r\nexport default { fetchImagesWithQuery };\r\n","import React, { Component } from 'react';\r\nimport SearchBar from './searchBar.js/SearchBar';\r\nimport ImageGallery from './imageGallery/ImageGallery';\r\nimport Spinner from './spinner/Spinner';\r\nimport Button from './button/Button';\r\nimport Modal from './modal/Modal';\r\nimport Notification from './notification/Notification';\r\nimport imagesApi from '../services/imagesApi';\r\nimport styles from './App.module.css';\r\n\r\nclass App extends Component {\r\n  state = {\r\n    images: [],\r\n    loading: false,\r\n    error: null,\r\n    searchQuery: '',\r\n    page: 1,\r\n    largeImageUrl: null,\r\n    pageCount: 0,\r\n  };\r\n\r\n  setLargeImage = url => {\r\n    this.setState({ largeImageUrl: url });\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const prevQuery = prevState.searchQuery;\r\n    const nextQuery = this.state.searchQuery;\r\n    if (prevQuery !== nextQuery) {\r\n      this.fetchImages();\r\n    }\r\n    const prevPage = prevState.page;\r\n    const nextPage = this.state.page;\r\n    if (nextPage > prevPage) {\r\n      window.scrollTo({\r\n        top: document.documentElement.scrollHeight,\r\n        behavior: 'smooth',\r\n      });\r\n    }\r\n  }\r\n\r\n  fetchImages = () => {\r\n    const { searchQuery, page } = this.state;\r\n    this.setState({ loading: true });\r\n    imagesApi\r\n      .fetchImagesWithQuery(searchQuery, page)\r\n      .then(data =>\r\n        this.setState(prevState => ({\r\n          images: [...prevState.images, ...data.images],\r\n          page: prevState.page + 1,\r\n          pageCount: Math.ceil(data.total / 12),\r\n        })),\r\n      )\r\n      .catch(error => this.setState({ error }))\r\n      .finally(() => this.setState({ loading: false }));\r\n  };\r\n\r\n  handleSearchFormSubmit = query => {\r\n    this.setState({\r\n      searchQuery: query,\r\n      page: 1,\r\n      pageCount: 0,\r\n      images: [],\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      images,\r\n      loading,\r\n      error,\r\n      largeImageUrl,\r\n      page,\r\n      pageCount,\r\n    } = this.state;\r\n    return (\r\n      <div className={styles.App}>\r\n        {error && (\r\n          <Notification message={`Something went wrong: ${error.message}`} />\r\n        )}\r\n        <SearchBar onSubmit={this.handleSearchFormSubmit} />\r\n        {images.length > 0 && (\r\n          <ImageGallery images={images} setLargeImage={this.setLargeImage} />\r\n        )}\r\n        {loading && <Spinner />}\r\n        {page <= pageCount && !loading && (\r\n          <Button loadImages={this.fetchImages} />\r\n        )}\r\n        {page > 1 && !pageCount && (\r\n          <Notification message=\"No images found for your search\" />\r\n        )}\r\n        {largeImageUrl && (\r\n          <Modal onClose={() => this.setLargeImage(null)}>\r\n            <img src={largeImageUrl} alt=\"view large\" />\r\n          </Modal>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3RhGS\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2F-Lz\",\"ImageGalleryItem-image\":\"ImageGalleryItem_ImageGalleryItem-image__1Ucyk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3IK2G\",\"Modal\":\"Modal_Modal__x_x0B\"};"],"sourceRoot":""}